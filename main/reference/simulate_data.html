<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Generate data for a two-arms clinical trial with longitudinal continuous
outcome and two intercurrent events (ICEs).
ICE1 may be thought of as a discontinuation from study treatment due to study drug or
condition related (SDCR) reasons.
ICE2 may be thought of as discontinuation from study treatment due to uninformative
study drop-out, i.e. due to not study drug or
condition related (NSDRC) reasons and outcome data after ICE2 is always missing."><title>Generate data — simulate_data • rbmi</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate data — simulate_data"><meta property="og:description" content="Generate data for a two-arms clinical trial with longitudinal continuous
outcome and two intercurrent events (ICEs).
ICE1 may be thought of as a discontinuation from study treatment due to study drug or
condition related (SDCR) reasons.
ICE2 may be thought of as discontinuation from study treatment due to uninformative
study drop-out, i.e. due to not study drug or
condition related (NSDRC) reasons and outcome data after ICE2 is always missing."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rbmi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.6</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/advanced.html">rbmi: Advanced Functionality</a>
    <a class="dropdown-item" href="../articles/quickstart.html">rbmi: Quickstart</a>
    <a class="dropdown-item" href="../articles/stat_specs.html">rbmi: Statistical Specifications</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/insightsengineering/rbmi/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Generate data</h1>
      <small class="dont-index">Source: <a href="https://github.com/insightsengineering/rbmi/blob/HEAD/R/simulate_data.R" class="external-link"><code>R/simulate_data.R</code></a></small>
      <div class="d-none name"><code>simulate_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generate data for a two-arms clinical trial with longitudinal continuous
outcome and two intercurrent events (ICEs).
ICE1 may be thought of as a discontinuation from study treatment due to study drug or
condition related (SDCR) reasons.
ICE2 may be thought of as discontinuation from study treatment due to uninformative
study drop-out, i.e. due to not study drug or
condition related (NSDRC) reasons and outcome data after ICE2 is always missing.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">simulate_data</span><span class="op">(</span><span class="va">pars_c</span>, <span class="va">pars_t</span>, <span class="va">post_ice1_traj</span>, strategies <span class="op">=</span> <span class="fu"><a href="getStrategies.html">getStrategies</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>pars_c</dt>
<dd><p>A <code>simul_pars</code> object as generated by <code><a href="set_simul_pars.html">set_simul_pars()</a></code>. It specifies
the simulation parameters of the control arm.</p></dd>


<dt>pars_t</dt>
<dd><p>A <code>simul_pars</code> object as generated by <code><a href="set_simul_pars.html">set_simul_pars()</a></code>. It specifies
the simulation parameters of the treatment arm.</p></dd>


<dt>post_ice1_traj</dt>
<dd><p>A string which specifies how observed outcomes occurring after
ICE1 are simulated.
Must target a function included in <code>strategies</code>. Possible choices are: Missing At
Random <code>"MAR"</code>, Jump to Reference <code>"JR"</code>,
Copy Reference <code>"CR"</code>, Copy Increments in Reference <code>"CIR"</code>, Last Mean Carried
Forward <code>"LMCF"</code>. User-defined strategies
could also be added. See <code><a href="getStrategies.html">getStrategies()</a></code> for details.</p></dd>


<dt>strategies</dt>
<dd><p>A named list of functions. Default equal to <code><a href="getStrategies.html">getStrategies()</a></code>.
See <code><a href="getStrategies.html">getStrategies()</a></code> for details.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>data.frame</code> containing the simulated data. It includes the following variables:</p><ul><li><p><code>id</code>: Factor variable that specifies the id of each subject.</p></li>
<li><p><code>visit</code>: Factor variable that specifies the visit of each assessment. Visit <code>0</code> denotes
the baseline visit.</p></li>
<li><p><code>group</code>: Factor variable that specifies which treatment group each subject belongs to.</p></li>
<li><p><code>outcome_bl</code>: Numeric variable that specifies the baseline outcome.</p></li>
<li><p><code>outcome_noICE</code>: Numeric variable that specifies the longitudinal outcome assuming
no ICEs.</p></li>
<li><p><code>ind_ice1</code>: Binary variable that takes value <code>1</code> if the corresponding visit is
affected by ICE1 and <code>0</code> otherwise.</p></li>
<li><p><code>dropout_ice1</code>: Binary variable that takes value <code>1</code> if the corresponding visit is
affected by the drop-out following ICE1 and <code>0</code> otherwise.</p></li>
<li><p><code>ind_ice2</code>: Binary variable that takes value <code>1</code> if the corresponding visit is affected
by ICE2.</p></li>
<li><p><code>outcome</code>: Numeric variable that specifies the longitudinal outcome including ICE1, ICE2
and the intermittent missing values.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The data generation works as follows:</p><ul><li><p>Generate outcome data for all visits (including baseline) from a multivariate
normal distribution with parameters <code>pars_c$mu</code> and <code>pars_c$sigma</code>
for the control arm and parameters <code>pars_t$mu</code> and <code>pars_t$sigma</code> for the treatment
arm, respectively.
Note that for a randomized trial, outcomes have the same distribution at baseline
in both treatment groups, i.e. one should set
<code>pars_c$mu[1]=pars_t$mu[1]</code> and <code>pars_c$sigma[1,1]=pars_t$sigma[1,1]</code>.</p></li>
<li><p>Simulate whether ICE1 (study treatment discontinuation due to SDCR reasons) occurs
after each visit according to parameters <code>pars_c$prob_ice1</code> and <code>pars_c$or_outcome_ice1</code>
for the control arm and <code>pars_t$prob_ice1</code> and <code>pars_t$or_outcome_ice1</code> for the
treatment arm, respectively.</p></li>
<li><p>Simulate drop-out following ICE1 according to <code>pars_c$prob_post_ice1_dropout</code> and
<code>pars_t$prob_post_ice1_dropout</code>.</p></li>
<li><p>Simulate an additional uninformative study drop-out with probabilities <code>pars_c$prob_ice2</code>
and <code>pars_t$prob_ice2</code> at each visit. This generates a second intercurrent event ICE2, which
may be thought as treatment discontinuation due to NSDRC reasons with subsequent drop-out.
The simulated time of drop-out is the subject's first visit which is affected by
drop-out and data from this visit and all subsequent visits are consequently set to missing.
If for a subject, both ICE1 and ICE2 are simulated to occur,
then it is assumed that only the earlier of them counts.
In case both ICEs are simulated to occur at the same time, it is assumed that ICE1 counts.
This means that a single subject can experience either ICE1 or ICE2, but not both of them.</p></li>
<li><p>Adjust trajectories after ICE1 according to the given assumption expressed with
the <code>post_ice1_traj</code> argument. Note that only post-ICE1 outcomes in the intervention arm can be
adjusted. Post-ICE1 outcomes from the control arm  are not adjusted.</p></li>
<li><p>Simulate additional intermittent missing outcome data as per arguments <code>pars_c$prob_miss</code>
and <code>pars_t$prob_miss</code>.</p></li>
</ul><p>The probability of the ICE after each visit is modeled according to the following
logistic regression model:
<code>~ 1 + I(visit == 0) + ... + I(visit == n_visits-1) + I((x-alpha))</code> where:</p><ul><li><p><code>n_visits</code> is the number of visits (including baseline).</p></li>
<li><p><code>alpha</code> is the baseline outcome mean.
The term <code>I((x-alpha))</code> specifies the dependency of the probability of the ICE on
the current outcome value.
The corresponding regression coefficients of the logistic model are defined as follows:
The intercept is set to 0, the coefficients corresponding to discontinuation after
each visit for a subject with outcome equal to
the mean at baseline are set according to parameters <code>pars_c$prob_ice1</code> (<code>pars_t$prob_ice1</code>),
and the regression coefficient associated with the covariate <code>I((x-alpha))</code> is set
to <code>log(pars_c$or_outcome_ice1)</code> (<code>log(pars_t$or_outcome_ice1)</code>).</p></li>
</ul><p>Please note that the baseline outcome cannot be missing nor be affected by any ICEs.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Craig Gower-Page, Alessandro Noci, Roche.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

