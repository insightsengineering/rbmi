% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ancova.R
\name{ancova}
\alias{ancova}
\title{Analysis of Covariance}
\usage{
ancova(data, vars, visits = NULL)
}
\arguments{
\item{data}{A data.frame containing the data to be used in the model}

\item{vars}{A \code{vars} object as generated by \code{\link[=set_vars]{set_vars()}}. Only the \code{group},
\code{visit}, \code{outcome} and \code{covariates} elements are required. See details.}

\item{visits}{an optional character vector specifying which visits to
fit the ancova model at. If \code{NULL} all available
visits (as determined by \code{unique(data[[vars$visit]])}) will be used.
See details.}
}
\description{
Performs an analysis of covariance between two groups returning the estimated
"treatment effect" and least squared means estimates of each group.
}
\details{
The function works as follows:
\enumerate{
\item Select the first value from \code{visits}.
\item Subset the data to only the observations that occurred on this visit.
\item Fit a linear model as  \code{vars$outcome ~ vars$group + vars$covariates}.
\item Extract the "treatment effect" & least square means for each treatment group.
\item Repeat points 2-3 for all other values in \code{visits}.
}

If no value for \code{visits} are provided then it will be set to
\code{unique(data[[vars$visit]])}.

In order to meet the formatting standards set by \code{\link[=analyse]{analyse()}} the results
will be collapsed into a single list prefixed by the visit name e.g.:\preformatted{list(
    visit_1_trt = list(est = ...),
    visit_1_lsm_ref = list(est = ...),
    visit_1_lsm_alt = list(est = ...),
    visit_2_trt = list(est = ...),
    visit_2_lsm_ref = list(est = ...),
    visit_2_lsm_alt = list(est = ...),
    ...
)
}

If you want to include interaction terms in your model this can be done
by providing them to the \code{covariates} argument of \code{\link[=set_vars]{set_vars()}}
e.g. \code{set_vars(covariates = c("sex*age"))}.
}
\seealso{
\code{\link[=analyse]{analyse()}}

\code{\link[stats:lm]{stats::lm()}}

\code{\link[=set_vars]{set_vars()}}
}
