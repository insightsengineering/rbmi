% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ancova.R
\name{ancova_single_m_group}
\alias{ancova_single_m_group}
\title{Multi-Group ANCOVA Implementation for Single Visit}
\usage{
ancova_single_m_group(
  data,
  outcome,
  group,
  covariates,
  weights = c("counterfactual", "equal", "proportional_em", "proportional")
)
}
\arguments{
\item{data}{A \code{data.frame} containing the data to be used in the model.}

\item{outcome}{Character, the name of the outcome variable in \code{data}.}

\item{group}{Character, the name of the group variable in \code{data}.}

\item{covariates}{Character vector containing the name of any additional covariates
to be included in the model as well as any interaction terms.}

\item{weights}{Character, either \code{"counterfactual"} (default), \code{"equal"},
\code{"proportional_em"} or \code{"proportional"}.
Specifies the weighting strategy to be used when calculating the lsmeans.
See the weighting section for more details.}
}
\value{
A named list containing:
\itemize{
\item \code{trt_L1_L0}, \code{trt_L2_L0}, etc.: Treatment effects (each group vs reference)
\item \code{lsm_L0}, \code{lsm_L1}, \code{lsm_L2}, etc.: Least square means for all groups
}
Each element contains \code{est} (estimate), \code{se} (standard error), and \code{df} (degrees of freedom).
}
\description{
Internal function that implements analysis of covariance for multiple treatment
groups within a single visit. This function extends \code{\link[=ancova_single]{ancova_single()}} to handle
more than two groups.
}
\details{
This function:
\itemize{
\item Accepts factor variables with 2 or more levels for the group parameter
\item Standardizes group level names to "L0", "L1", "L2", etc. for consistent output
\item Calculates treatment effects as contrasts between each non-reference group and the reference
\item Computes least square means for all groups using the specified weighting strategy
}

The reference group is always the first factor level (standardized to "L0").
Treatment effects compare each subsequent group ("L1", "L2", ...) against "L0".
}
\section{Reserved Variable Names}{

This function uses \code{"rbmiGroup"} as an internal variable name. If your dataset
contains a variable with this name, the function will error.
}

\examples{
\dontrun{
# Internal function - typically called via ancova_m_groups()
data$grp <- factor(c("Control", "Treatment1", "Treatment2"))
result <- ancova_single_m_group(
    data = data,
    outcome = "response",
    group = "grp",
    covariates = c("age", "sex"),
    weights = "counterfactual"
)
}

}
\seealso{
\code{\link[=ancova_single]{ancova_single()}} for two-group analysis

\code{\link[=ancova_m_groups]{ancova_m_groups()}} for the user-facing multi-group function
}
\keyword{internal}
