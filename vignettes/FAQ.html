<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Alessandro Noci, Craig Gower-Page and Marcel Wolbers" />


<title>rbmi: Frequently Asked Questions</title>


<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">

div.csl-bib-body { }
div.csl-entry {
clear: both;
margin-bottom: 0em;
}
.hanging div.csl-entry {
margin-left:2em;
text-indent:-2em;
}
div.csl-left-margin {
min-width:2em;
float:left;
}
div.csl-right-inline {
margin-left:2em;
padding-left:1em;
}
div.csl-indent {
margin-left: 2em;
}
</style>

<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">rbmi: Frequently Asked Questions</h1>
<h4 class="author">Alessandro Noci, Craig Gower-Page and Marcel Wolbers</h4>


<div id="TOC">
<ul>
<li><a href="#introduction" id="toc-introduction"><span class="toc-section-number">1</span> Introduction</a>
<ul>
<li><a href="#is-rbmi-validated" id="toc-is-rbmi-validated"><span class="toc-section-number">1.1</span> Is <code>rbmi</code> validated?</a></li>
<li><a href="#how-do-the-methods-in-rbmi-compare-to-the-mixed-model-for-repeated-measures-mmrm-implemented-in-the-mmrm-package" id="toc-how-do-the-methods-in-rbmi-compare-to-the-mixed-model-for-repeated-measures-mmrm-implemented-in-the-mmrm-package"><span class="toc-section-number">1.2</span> How do the methods in <code>rbmi</code> compare to the mixed model for repeated measures (MMRM) implemented in the <code>mmrm</code> package?</a></li>
<li><a href="#how-does-rbmi-compare-to-general-purpose-software-for-multiple-imputation-mi-such-as-mice" id="toc-how-does-rbmi-compare-to-general-purpose-software-for-multiple-imputation-mi-such-as-mice"><span class="toc-section-number">1.3</span> How does <code>rbmi</code> compare to general-purpose software for multiple imputation (MI) such as <code>mice</code>?</a></li>
<li><a href="#how-to-handle-missing-data-in-baseline-covariates-in-rbmi" id="toc-how-to-handle-missing-data-in-baseline-covariates-in-rbmi"><span class="toc-section-number">1.4</span> How to handle missing data in baseline covariates in <code>rbmi</code>?</a></li>
<li><a href="#why-does-rbmi-by-default-use-an-ancova-analysis-model-and-not-an-mmrm-analysis-model" id="toc-why-does-rbmi-by-default-use-an-ancova-analysis-model-and-not-an-mmrm-analysis-model"><span class="toc-section-number">1.5</span> Why does <code>rbmi</code> by default use an ANCOVA analysis model and not an MMRM analysis model?</a></li>
<li><a href="#how-can-i-analyse-the-change-from-baseline-in-the-analysis-model-when-imputation-was-done-on-the-original-outcomes" id="toc-how-can-i-analyse-the-change-from-baseline-in-the-analysis-model-when-imputation-was-done-on-the-original-outcomes"><span class="toc-section-number">1.6</span> How can I analyse the change-from-baseline in the analysis model when imputation was done on the original outcomes?</a></li>
</ul></li>
</ul>
</div>

<div id="introduction" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p>This document provides answers to common questions about the <code>rbmi</code> package.
It is intended to be read after the <code>rbmi: Quickstart</code> vignette.</p>
<p><br></p>
<div id="is-rbmi-validated" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Is <code>rbmi</code> validated?</h2>
<p>With regards to software in the pharmaceutical industry, validation is the act of ensuring that the software meets the needs and
requirements of users given the conditions of actual use. The FDA provides general principles and
guidance for validation but leaves it to individual sponsors to define their specific validation
processes. Therefore, no individual R package can claim to be ‘validated’ independently, as
validation depends on the entire software stack and the specific processes of each company.</p>
<p>That being said, some of the core components of any validation process are the design specification
(what is the software supposed to do) as well as the testing / test results that demonstrate that
the design specification has been met. For <code>rbmi</code>, the design specification is documented extensively,
both at a macro level in vignettes and literature publications, and at a micro level in detailed
function manuals. This is supported by our extensive suite of unit and integration tests, which
ensure the software consistently produces correct output across a wide range of input scenarios.</p>
<p>This documentation and test coverage enable <code>rbmi</code> to be easily installed and integrated into any
R system, in alignment with the system’s broader validation process.</p>
<p><br></p>
</div>
<div id="how-do-the-methods-in-rbmi-compare-to-the-mixed-model-for-repeated-measures-mmrm-implemented-in-the-mmrm-package" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> How do the methods in <code>rbmi</code> compare to the mixed model for repeated measures (MMRM) implemented in the <code>mmrm</code> package?</h2>
<p><code>rbmi</code> was designed to complement and, occasionally, replace standard MMRM analyses for clinical trials with longitudinal endpoints.</p>
<p><strong>Strengths</strong> of <code>rbmi</code> compared to the standard MMRM model are:</p>
<ul>
<li><code>rbmi</code> was designed to allow for analyses which are fully aligned with the the estimand definition. To facilitate this, it implements methods under a range of different missing data assumptions including standard missing-at-random (MAR), extended MAR (via inclusion of time-varying covariates), reference-based missingness, and not missing-at-random at random (NMAR; via <span class="math inline">\(\delta\)</span>-adjustments). In contrast, the standard MMRM model is only valid under a standard MAR assumption which is not always plausible. For example, the standard MAR assumption is rather implausible for implementing a treatment policy strategy for the intercurrent event “treatment discontinuation” if a substantial proportion of subjects are lost-to-follow-up after discontinuation.</li>
<li>The <span class="math inline">\(\delta\)</span>-adjustment methods implemented in <code>rbmi</code> can be used for sensitivity analyses of a primary MMRM- or rbmi-type analysis.</li>
</ul>
<p><strong>Weaknesses</strong> of <code>rbmi</code> compared to the standard MMRM model are:</p>
<ul>
<li>MMRM models have been the de-facto standard analysis method for more than a decade. <code>rbmi</code> is currently less established.</li>
<li><code>rbmi</code> is computationally more intensive and using it requires more careful planning.</li>
</ul>
<p><br></p>
</div>
<div id="how-does-rbmi-compare-to-general-purpose-software-for-multiple-imputation-mi-such-as-mice" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> How does <code>rbmi</code> compare to general-purpose software for multiple imputation (MI) such as <code>mice</code>?</h2>
<p><code>rbmi</code> covers only “MMRM-type” settings, i.e. settings with a single longitudinal continuous outcome which may be missing at some visits and hence require imputation.</p>
<p>For these settings, it has several <strong>advantages</strong> over general-purpose MI software:</p>
<ul>
<li><code>rbmi</code> supports imputation under a range of different missing data assumptions whereas general-purpose MI software is mostly focused on MAR-based imputation. In particular, it is unclear how to implement jump to reference (JR) or copy increments in reference (CIR) methods with such software.</li>
<li>The <code>rbmi</code> interface is fully streamlined to this setting which arguably makes the implementation more straightforward than for general-purpose MI software.</li>
<li>The MICE algorithm is stochastic and inference is always based on Rubin’s rules. In contrast, method “conditional mean imputation plus jackknifing” (<code>method=&quot;method_condmean(type = &quot;jackknife&quot;)&quot;</code>) in <code>rbmi</code> does not require any tuning parameters, is fully deterministic, and provides frequentist-consistent inference also for reference-based imputations (where Rubin’s rule is very conservative leading to actual type I error rates which can be far below their nominal values).</li>
</ul>
<p>However, <code>rbmi</code> is much more limited in its functionality than general-purpose MI software.</p>
<p><br></p>
</div>
<div id="how-to-handle-missing-data-in-baseline-covariates-in-rbmi" class="section level2" number="1.4">
<h2><span class="header-section-number">1.4</span> How to handle missing data in baseline covariates in <code>rbmi</code>?</h2>
<p><code>rbmi</code> does not support imputation of missing baseline covariates. Therefore, missing baseline covariates need to be handled outside of <code>rbmi</code>.
The best approach for handling missing baseline covariates needs to be made on a case-by-case basis but in the context of randomized trials, relatively simple approach are often sufficient (<span class="citation">White and Thompson (<a href="#ref-White2005">2005</a>)</span>).</p>
<p><br></p>
</div>
<div id="why-does-rbmi-by-default-use-an-ancova-analysis-model-and-not-an-mmrm-analysis-model" class="section level2" number="1.5">
<h2><span class="header-section-number">1.5</span> Why does <code>rbmi</code> by default use an ANCOVA analysis model and not an MMRM analysis model?</h2>
<p>The theoretical justification for the conditional mean imputation method requires that the analysis model leads to a point estimator which is a linear function of the outcome vector (<span class="citation">Wolbers et al. (<a href="#ref-Wolbers2021">2022</a>)</span>). This is the case for ANCOVA but not for general MMRM models. For the other imputation methods, both ANCOVA and MMRM are valid analysis methods. An MMRM analysis model could be implemented by providing a custom analysis function to the <code>analyse()</code> function.</p>
<p>For further expalanations, we also cite the end of section 2.4 of the conditional mean imputation paper (<span class="citation">Wolbers et al. (<a href="#ref-Wolbers2021">2022</a>)</span>):</p>
<blockquote>
<p>The proof relies on the fact that the ANCOVA estimator is a linear function of the outcome vector.
<strong>For complete data, the ANCOVA estimator leads to identical parameter estimates as an MMRM model</strong> of all longitudinal outcomes with an arbitrary common covariance structure across treatment groups <strong>if treatment-by-visit interactions as well as covariate-by-visit-interactions</strong> are included in the analysis model for all covariates,17 (p. 197).
Hence, the same proof also applies to such MMRM models.
We expect that conditional mean imputation is also valid if a general MMRM model is used for the analysis but more involved argument would be required to formally justify this.</p>
</blockquote>
<p><br></p>
</div>
<div id="how-can-i-analyse-the-change-from-baseline-in-the-analysis-model-when-imputation-was-done-on-the-original-outcomes" class="section level2" number="1.6">
<h2><span class="header-section-number">1.6</span> How can I analyse the change-from-baseline in the analysis model when imputation was done on the original outcomes?</h2>
<p>This can be achieved using custom analysis functions as outlined in Section 7 of the Advanced Vignette. e.g.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>ancova_modified <span class="ot">&lt;-</span> <span class="cf">function</span>(data, ...) {</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>    data2 <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">ENDPOINT =</span> ENDPOINT <span class="sc">-</span> BASELINE)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>    rbmi<span class="sc">::</span><span class="fu">ancova</span>(data2, ...)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>}</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>anaObj <span class="ot">&lt;-</span> rbmi<span class="sc">::</span><span class="fu">analyse</span>(</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>    imputeObj,</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>    ancova_modified,</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>    <span class="at">vars =</span> vars</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a> )</span></code></pre></div>
<p><br></p>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-White2005" class="csl-entry">
White, Ian R, and Simon G Thompson. 2005. <span>“Adjusting for Partially Missing Baseline Measurements in Randomized Trials.”</span> <em>Statistics in Medicine</em> 24 (7): 993–1007.
</div>
<div id="ref-Wolbers2021" class="csl-entry">
Wolbers, Marcel, Alessandro Noci, Paul Delmar, Craig Gower-Page, Sean Yiu, and Jonathan W Bartlett. 2022. <span>“Standard and Reference-Based Conditional Mean Imputation.”</span> <em>Pharmaceutical Statistics</em> 21 (6): 1246–57.
</div>
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
