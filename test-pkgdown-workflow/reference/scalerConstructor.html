<!DOCTYPE html>
<!-- Generated by pkgdown + https://github.com/insightsengineering/r-pkgdown-multiversion -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>R6 Class for scaling (and un-scaling) design matrices — scalerConstructor • rbmi</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="R6 Class for scaling (and un-scaling) design matrices — scalerConstructor">
<meta name="description" content="Scales a design matrix so that all non-categorical columns have a mean
of 0 and an standard deviation of 1.">
<meta property="og:description" content="Scales a design matrix so that all non-categorical columns have a mean
of 0 and an standard deviation of 1.">
<meta property="og:image" content="https://github.com/insightsengineering/rbmi/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rbmi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.6.0001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/advanced.html">rbmi: Advanced Functionality</a></li>
    <li><a class="dropdown-item" href="../articles/CondMean_Inference.html">rbmi: Inference with Conditional Mean Imputation</a></li>
    <li><a class="dropdown-item" href="../articles/FAQ.html">rbmi: Frequently Asked Questions</a></li>
    <li><a class="dropdown-item" href="../articles/quickstart.html">rbmi: Quickstart</a></li>
    <li><a class="dropdown-item" href="../articles/retrieved_dropout.html">rbmi: Implementation of retrieved-dropout models using rbmi</a></li>
    <li><a class="dropdown-item" href="../articles/stat_specs.html">rbmi: Statistical Specifications</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<!-- start dropdown for versions --> <li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-versions">Versions</a>
    <div class="dropdown-menu" aria-labelledby="dropdown-versions">
    <a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rbmi/main">main</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rbmi/latest-tag">latest-tag</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rbmi/v1.5.2">v1.5.2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rbmi/v1.5.1">v1.5.1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rbmi/v1.4.1">v1.4.1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rbmi/v1.4.0">v1.4.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rbmi/v1.3.1">v1.3.1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rbmi/v1.3.0">v1.3.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/rbmi/v1.2.6">v1.2.6</a>
</div>
</li>
<!-- end dropdown for versions -->
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="nav-link" href="https://github.com/insightsengineering/rbmi" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>R6 Class for scaling (and un-scaling) design matrices</h1>
      <small class="dont-index">Source: <a href="https://github.com/insightsengineering/rbmi/blob/test-pkgdown-workflow/R/scaling.R"><code>R/scaling.R</code></a></small>
      <div class="d-none name"><code>scalerConstructor.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Scales a design matrix so that all non-categorical columns have a mean
of 0 and an standard deviation of 1.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a>
</h2>
    <p>The object initialisation
is used to determine the relevant mean and SD's to scale by and then
the scaling (and un-scaling) itself is performed by the relevant object
methods.</p>
<p>Un-scaling is done on linear model Beta and Sigma coefficients. For this purpose
the first column on the dataset to be scaled is assumed to be the outcome variable
with all other variables assumed to be post-transformation predictor variables (i.e.
all dummy variables have already been expanded).</p>
    </div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a>
</h2>
    <p></p>
<div class="r6-fields">
<dl>
<dt><code>centre</code></dt>
<dd><p>Vector of column means. The first value is the outcome
variable, all other variables are the predictors.</p></dd>


<dt><code>scales</code></dt>
<dd><p>Vector of column standard deviations. The first value is the outcome
variable, all other variables are the predictors.</p></dd>


</dl>
<p></p>
</div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a>
</h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a>
</h3>

<ul>
<li><p><a href="#method-scaler-new"><code>scalerConstructor$new()</code></a></p></li>
<li><p><a href="#method-scaler-scale"><code>scalerConstructor$scale()</code></a></p></li>
<li><p><a href="#method-scaler-unscale_sigma"><code>scalerConstructor$unscale_sigma()</code></a></p></li>
<li><p><a href="#method-scaler-unscale_beta"><code>scalerConstructor$unscale_beta()</code></a></p></li>
<li><p><a href="#method-scaler-clone"><code>scalerConstructor$clone()</code></a></p></li>
</ul>
</div>
<p></p>
<hr>
<a id="method-scaler-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a>
</h3>
<p>Uses <code>dat</code> to determine the relevant column means and standard deviations to use
when scaling and un-scaling future datasets. Implicitly assumes that new datasets
have the same column order as <code>dat</code></p>
<div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h4>
<p></p>
<div class="r">
<div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/scalerConstructor.html">scalerConstructor</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></code></pre></div>
<p></p>
</div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a>
</h4>
<p></p>
<div class="arguments">
<dl>
<dt><code>dat</code></dt>
<dd><p>A <code>data.frame</code> or matrix. All columns must be numeric (i.e dummy variables,
must have already been expanded out).</p></dd>


</dl>
<p></p>
</div>
</div>
<div class="section">
<h4 id="details-1">Details<a class="anchor" aria-label="anchor" href="#details-1"></a>
</h4>
<p>Categorical columns (as determined by those who's values are entirely <code>1</code> or <code>0</code>)
will not be scaled. This is achieved by setting the corresponding values of centre
to <code>0</code> and scale to <code>1</code>.</p>
</div>


</div>
<p></p>
<hr>
<a id="method-scaler-scale"></a><div class="section">
<h3 id="method-scale-">Method <code><a href="https://rdrr.io/r/base/scale.html" class="external-link">scale()</a></code><a class="anchor" aria-label="anchor" href="#method-scale-"></a>
</h3>
<p>Scales a dataset so that all continuous variables have a mean of 0 and a
standard deviation of 1.</p>
<div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a>
</h4>
<p></p>
<div class="r">
<div class="sourceCode"><pre><code><span><span class="va">scalerConstructor</span><span class="op">$</span><span class="fu">scale</span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></code></pre></div>
<p></p>
</div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a>
</h4>
<p></p>
<div class="arguments">
<dl>
<dt><code>dat</code></dt>
<dd><p>A <code>data.frame</code> or matrix whose columns are all numeric (i.e. dummy
variables have all been expanded out) and whose columns are in the same
order as the dataset used in the initialization function.</p></dd>


</dl>
<p></p>
</div>
</div>

</div>
<p></p>
<hr>
<a id="method-scaler-unscale_sigma"></a><div class="section">
<h3 id="method-unscale-sigma-">Method <code>unscale_sigma()</code><a class="anchor" aria-label="anchor" href="#method-unscale-sigma-"></a>
</h3>
<p>Unscales a sigma value (or matrix) as estimated by a linear model
using a design matrix scaled by this object. This function only
works if the first column of the initialisation <code>data.frame</code> was the outcome
variable.</p>
<div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a>
</h4>
<p></p>
<div class="r">
<div class="sourceCode"><pre><code><span><span class="va">scalerConstructor</span><span class="op">$</span><span class="fu">unscale_sigma</span><span class="op">(</span><span class="va">sigma</span><span class="op">)</span></span></code></pre></div>
<p></p>
</div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a>
</h4>
<p></p>
<div class="arguments">
<dl>
<dt><code>sigma</code></dt>
<dd><p>A numeric value or matrix.</p></dd>


</dl>
<p></p>
</div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a>
</h4>
<p>A numeric value or matrix</p>
</div>

</div>
<p></p>
<hr>
<a id="method-scaler-unscale_beta"></a><div class="section">
<h3 id="method-unscale-beta-">Method <code>unscale_beta()</code><a class="anchor" aria-label="anchor" href="#method-unscale-beta-"></a>
</h3>
<p>Unscales a beta value (or vector) as estimated by a linear model
using a design matrix scaled by this object. This function only
works if the first column of the initialization <code>data.frame</code> was the outcome
variable.</p>
<div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a>
</h4>
<p></p>
<div class="r">
<div class="sourceCode"><pre><code><span><span class="va">scalerConstructor</span><span class="op">$</span><span class="fu">unscale_beta</span><span class="op">(</span><span class="va">beta</span><span class="op">)</span></span></code></pre></div>
<p></p>
</div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a>
</h4>
<p></p>
<div class="arguments">
<dl>
<dt><code>beta</code></dt>
<dd><p>A numeric vector of beta coefficients as estimated from a linear model.</p></dd>


</dl>
<p></p>
</div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a>
</h4>
<p>A numeric vector.</p>
</div>

</div>
<p></p>
<hr>
<a id="method-scaler-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a>
</h3>
<p>The objects of this class are cloneable with this method.</p>
<div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a>
</h4>
<p></p>
<div class="r">
<div class="sourceCode"><pre><code><span><span class="va">scalerConstructor</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p></p>
</div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a>
</h4>
<p></p>
<div class="arguments">
<dl>
<dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl>
<p></p>
</div>
</div>

</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Craig Gower-Page, Alessandro Noci, F. Hoffmann-La Roche AG.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
